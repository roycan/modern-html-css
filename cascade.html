<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Cascade Layers</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    /* Page styles (not part of the teaching snippet) */
    body { font-family: system-ui, sans-serif; line-height: 1.6; padding: 2rem; }
    h1 { margin-bottom: 0.5rem; }
    .note { background: #f6f8fa; border: 1px solid #d0d7de; padding: 1rem; border-radius: 8px; }
    .demo { border: 1px solid #d0d7de; border-radius: 8px; padding: 1rem; margin: 1rem 0; }
    .card { padding: 1rem; border-radius: 6px; }
    .btn { display: inline-block; padding: 0.5rem 0.75rem; border: 1px solid #d0d7de; border-radius: 6px; background: #fff; cursor: pointer; }

    /* Teaching snippet starts here — @layer in action */
    @layer reset, base, theme, utilities;

    @layer reset {
      * { box-sizing: border-box; margin: 0; padding: 0; }
    }

    @layer base {
      body { color: #222; }
      .card { border: 1px solid #ccc; background: #fff; }
    }

    @layer theme {
      body { background: lavender; }
      .card { background: #fffafc; border-color: #e0b3d6; }
      .btn { background: #f0e6f6; border-color: #c8a2c8; }
    }

    @layer utilities {
      .rounded { border-radius: 12px; }
      .shadow { box-shadow: 0 2px 8px rgba(0,0,0,0.08); }
    }

    /* Code box styles */
    .code-demo { margin-top: 2rem; background: #f9f9f9; border: 1px solid #ddd; padding: 1rem; border-radius: 8px; }
    pre { background: #0f172a; color: #e2e8f0; padding: 1rem; overflow-x: auto; border-radius: 6px; }
    .copy { margin-top: 0.5rem; }
  </style>
  <script src="navbar.js"></script>

</head>
<body>
  <h1>Cascade Layers</h1>
  <p class="note">
    <strong>When:</strong> Use <code>@layer</code> to control cascade order across resets, base styles, themes, and utilities—especially in larger projects or teaching code organization.<br>
    <strong>Where:</strong> Component libraries, multi-author codebases, or any site where predictable overrides matter.<br>
    <strong>How:</strong> Declare layer order once (e.g., <code>@layer reset, base, theme, utilities;</code>), then place rules inside named layers. Later layers win unless specificity or importance changes that.
  </p>

  <section class="demo">
    <h2>Live demo</h2>
    <p>This card and button are styled via layered CSS. Try toggling classes to see utilities override base/theme.</p>
    <div class="card rounded shadow" style="max-width: 420px;">
      <h3>Layered card</h3>
      <p>Reset → Base → Theme → Utilities. Utilities add rounded corners and shadow on top.</p>
      <button class="btn">Layered button</button>
    </div>
  </section>

  <section class="code-demo">
    <h2>Code example</h2>
    <pre><code>@layer reset, base, theme, utilities;

@layer reset {
  * { box-sizing: border-box; margin: 0; padding: 0; }
}

@layer base {
  body { color: #222; }
  .card { border: 1px solid #ccc; background: #fff; }
}

@layer theme {
  body { background: lavender; }
  .card { background: #fffafc; border-color: #e0b3d6; }
  .btn { background: #f0e6f6; border-color: #c8a2c8; }
}

@layer utilities {
  .rounded { border-radius: 12px; }
  .shadow { box-shadow: 0 2px 8px rgba(0,0,0,0.08); }
}

/* HTML
&lt;div class="card rounded shadow"&gt;
  &lt;h3&gt;Layered card&lt;/h3&gt;
  &lt;p&gt;Reset → Base → Theme → Utilities&lt;/p&gt;
  &lt;button class="btn"&gt;Layered button&lt;/button&gt;
&lt;/div&gt;
*/</code></pre>
    <button class="btn copy" onclick="copyCode(this)">Copy code</button>
  </section>

  <script>
    function copyCode(button) {
      const codeBlock = button.previousElementSibling.querySelector('code');
      const text = codeBlock.innerText;
      navigator.clipboard.writeText(text).then(() => {
        const original = button.textContent;
        button.textContent = 'Copied!';
        setTimeout(() => button.textContent = original, 2000);
      });
    }
  </script>

  <script src="footer.js"></script>

</body>
</html>
